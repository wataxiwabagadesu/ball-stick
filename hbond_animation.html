<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>探针-酯基氢键 → 荧光Turn-on 动画示意</title>
<style>
  body{font-family:system-ui,-apple-system,"PingFang SC","Microsoft YaHei",sans-serif;margin:20px;}
  .wrap{max-width:980px;margin:auto;}
  .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:10px;}
  button{padding:10px 14px;border-radius:12px;border:1px solid #ccc;background:#f6f7ff;cursor:pointer;font-weight:700}
  .hint{color:#666;font-size:13px}
  svg{width:100%;height:auto;border:1px solid rgba(0,0,0,.12);border-radius:16px;background:#fff}

  /* 初始状态：未结合 */
  #probeGroup { transform: translateX(0px); }
  #esterGroup { transform: translateX(0px); }

  /* 氢键虚线：先隐藏 */
  #hbondLine { opacity: 0; stroke-dasharray: 6 6; }

  /* 荧光：先关闭 */
  #glow { opacity: 0; }
  #glowCore { opacity: 0.15; }

  /* 动画触发类 */
  .play #probeGroup { animation: probeMove 1.2s ease-in-out forwards; }
  .play #esterGroup { animation: esterMove 1.2s ease-in-out forwards; }

  .play #hbondLine { animation: hbondAppear 0.6s ease-in forwards; animation-delay: 1.0s; }

  .play #glow { animation: glowOn 1.2s ease-in forwards; animation-delay: 1.4s; }
  .play #glowText { animation: textOn 1.2s ease-in forwards; animation-delay: 1.4s; }

  @keyframes probeMove {
    from { transform: translateX(0px); }
    to   { transform: translateX(140px); }
  }
  @keyframes esterMove {
    from { transform: translateX(0px); }
    to   { transform: translateX(-110px); }
  }
  @keyframes hbondAppear {
    from { opacity: 0; }
    to   { opacity: 1; }
  }
  @keyframes glowOn {
    0%   { opacity: 0; filter: blur(0px); }
    30%  { opacity: 0.35; filter: blur(1px); }
    60%  { opacity: 0.7; filter: blur(2px); }
    100% { opacity: 1; filter: blur(2.5px); }
  }
  @keyframes textOn {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0px); }
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="row">
    <button id="btnPlay">播放：氢键结合 → 荧光点亮</button>
    <button id="btnReset">重置</button>
    <div class="hint">示意含义：探针上 N（受体）与酯基（供体）形成氢键后，构象/电子过程改变 → 荧光 Turn-on</div>
  </div>

  <svg id="scene" viewBox="0 0 980 420" role="img" aria-label="H-bond binding to fluorescence turn-on">
    <!-- 背景分区 -->
    <rect x="20" y="70" width="450" height="320" rx="18" fill="rgba(0,0,0,0.02)" />
    <rect x="510" y="70" width="450" height="320" rx="18" fill="rgba(0,255,0,0.03)" />

    <text x="40" y="55" font-size="18" font-weight="800">结合前（荧光 Off）</text>
    <text x="530" y="55" font-size="18" font-weight="800" fill="#0a8a0a">结合后（荧光 Turn-on）</text>

    <!-- 探针（简化：两个环 + N） -->
    <g id="probeGroup" transform="translate(0,0)">
      <text x="70" y="105" font-size="14" fill="#444">Probe（你圈的 N + 两个环）</text>

      <!-- 两个“芳环”用六边形表示 -->
      <polygon points="90,200 115,185 140,200 140,230 115,245 90,230"
               fill="none" stroke="#222" stroke-width="3"/>
      <polygon points="165,240 190,225 215,240 215,270 190,285 165,270"
               fill="none" stroke="#222" stroke-width="3"/>

      <!-- N 原子 -->
      <circle cx="160" cy="210" r="18" fill="#e8f0ff" stroke="#2b5cff" stroke-width="3"/>
      <text x="153" y="217" font-size="18" font-weight="900" fill="#2b5cff">N</text>

      <!-- 连线 -->
      <line x1="140" y1="210" x2="142" y2="210" stroke="#222" stroke-width="3"/>
      <line x1="142" y1="210" x2="160" y2="210" stroke="#222" stroke-width="3"/>
      <line x1="160" y1="228" x2="170" y2="240" stroke="#222" stroke-width="3"/>

      <!-- 注释 -->
      <text x="70" y="315" font-size="13" fill="#666">N：氢键受体（H-bond acceptor）</text>
    </g>

    <!-- 酯基（简化：C=O 和 -O-，标出 H-bond donor） -->
    <g id="esterGroup" transform="translate(0,0)">
      <text x="660" y="105" font-size="14" fill="#444">Polymer ester group（酯基）</text>

      <!-- 酯基骨架 -->
      <line x1="760" y1="200" x2="820" y2="200" stroke="#222" stroke-width="3"/>
      <text x="740" y="206" font-size="16" font-weight="800">C</text>

      <!-- C=O -->
      <line x1="750" y1="200" x2="750" y2="155" stroke="#222" stroke-width="3"/>
      <line x1="762" y1="200" x2="762" y2="160" stroke="#222" stroke-width="3"/>
      <text x="742" y="145" font-size="16" font-weight="800" fill="#d20000">O</text>

      <!-- -O- -->
      <line x1="820" y1="200" x2="855" y2="170" stroke="#222" stroke-width="3"/>
      <circle cx="865" cy="162" r="14" fill="#ffecec" stroke="#d20000" stroke-width="3"/>
      <text x="858" y="168" font-size="16" font-weight="900" fill="#d20000">O</text>

      <!-- 供体 H（用小 H 标记，示意为氢键供体） -->
      <circle cx="890" cy="150" r="12" fill="#fff7d6" stroke="#b58900" stroke-width="2"/>
      <text x="884" y="156" font-size="14" font-weight="900" fill="#b58900">H</text>
      <line x1="875" y1="156" x2="865" y2="162" stroke="#b58900" stroke-width="2"/>

      <text x="640" y="315" font-size="13" fill="#666">酯基附近的 H：氢键供体（donor，示意）</text>
    </g>

    <!-- 氢键虚线（N ... H-O） -->
    <line id="hbondLine" x1="300" y1="210" x2="770" y2="150" stroke="#2b5cff" stroke-width="3"/>
    <text x="480" y="190" font-size="14" fill="#2b5cff" font-weight="800" opacity="0.9">Hydrogen bond</text>

    <!-- 荧光发光效果（右侧） -->
    <g id="glow">
      <defs>
        <radialGradient id="g" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="#3cff3c" stop-opacity="0.9"/>
          <stop offset="55%" stop-color="#3cff3c" stop-opacity="0.25"/>
          <stop offset="100%" stop-color="#3cff3c" stop-opacity="0"/>
        </radialGradient>
      </defs>

      <circle id="glowCore" cx="820" cy="285" r="18" fill="#2dff2d" opacity="0.35"/>
      <circle cx="820" cy="285" r="110" fill="url(#g)"/>
      <circle cx="820" cy="285" r="160" fill="url(#g)" opacity="0.6"/>
    </g>

    <text id="glowText" x="700" y="360" font-size="18" font-weight="900" fill="#0a8a0a" opacity="0">
      Fluorescence Turn-On
    </text>

    <!-- 箭头提示 -->
    <path d="M430 130 C500 110, 540 110, 610 130" fill="none" stroke="#999" stroke-width="3"/>
    <polygon points="610,130 595,122 597,138" fill="#999"/>
    <text x="455" y="110" font-size="13" fill="#666">靠近 / 识别</text>
  </svg>
</div>

<script>
  const scene = document.getElementById('scene');
  document.getElementById('btnPlay').onclick = () => {
    scene.classList.remove('play');
    // 让动画可重复播放
    void scene.getBBox();
    scene.classList.add('play');
  };
  document.getElementById('btnReset').onclick = () => {
    scene.classList.remove('play');
  };
</script>
</body>
</html>
